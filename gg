import asyncio
from telethon import events

@bot.on(events.NewMessage(pattern=r'^\.ban (.+)', outgoing=True))
async def ban_user(event):
    chat = await event.get_chat()
    message = event.message
    if chat.admin_rights or chat.creator:
        # Получаем список пользователей в чате
        users = await event.client.get_participants(chat)
        
        # Получаем айди пользователя, которого нужно забанить
        user_id = message.pattern_match.group(1)
        
        for user in users:
            if str(user.id) == user_id:
                try:
                    # Баним пользователя
                    await event.client.edit_permissions(chat, user, view_messages=False)
                    await event.respond(f"Пользователь {user_id} забанен.")
                except Exception as e:
                    await event.respond(f"Не удалось забанить пользователя {user_id}. Ошибка: {str(e)}")
                break
        else:
            await event.respond(f"Пользователь с айди {user_id} не найден.")
    else:
        await event.respond("У вас нет прав для выполнения этой команды.")


@bot.on(events.NewMessage(pattern=r'^\.gg$', outgoing=True))
async def run_module(event):
    # Ваш код для выполнения действий по команде .gg
    await event.respond("Модуль успешно запущен.")

